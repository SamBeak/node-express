AWS 계정 설정

맨 처음 생성하는 계정이 루트 계정이다.
그러나, 보안을 위해 루트 계정은 가급적 사용하지 않고
MFA 를 설정 후 어드민 계정을 만들어 어드민을 통해 작업하는 것을 권장한다.
그것이 루트 계정의 보안을 강화하는 방법이다.
공식문서에서도 추천하는 방법이기도 하다.

루트 계정 생성 후 MFA를 성정해야하는데,
MFA란 Multi-Factor Authentication으로 다중 인증을 의미한다.
왜 게임 같은 곳에서도 로그인하고 본인 핸드폰 인증이라든지
추가 인증을 요구하는 것처럼 말이다.
2차 보안 설정 같은거라고 생각하자

MFA는 구글 OTP보다는 Authy를 사용하길 권장한다.
왜냐면 구글OTP는 한 개의 디바이스만 등록 가능하고
소지하지 않거나 분실하면 아주 난감해지기 때문이다.
Authy는 잃어버려도 복구가 가능하고 멀티디바이스에
최적화 되어 있기 때문에
공식 문서도 Authy를 통해서 MFA를 설정하길 권장한다.

사용자 그룹 생성
IAM 대시보드가 생성되면
사용자 그룹에 들어가 create group을 한다.
사용자 이름을 작성하고 필터로 내려가
admin을 검색한 후 AdministratorAccess를 추가한다.
그러나 옵션이기 때문에 그룹에 권한을 부여할지,
개인별로 권한을 부여할지는 선택해서 진행한다.

사용자 생성
사용자 탭에 들어가 사용자 추가를 누른다.
사용자 이름을 작성하고
AWS Management Console에 대한 사용자 액세스 권한 제공을 체크한다.
'IAM 사용자를 생성하고 싶음' 을 선택한다.
위 항목이 추천이긴하지만 회사 규모정도는 가야 의미가 있다.
회사는 권한을 줘야하는 인원이 많기 때문에 
aws sso를 사용하면 키 관리나 권한을 주는 것이 아주 수월한데,
개인 개정을 사용하는 우리 입장에선 1~2개의 권한을 주기 때문에
아래 항목을 체크하기 충분하다.
이후, 자동 생선된 암호를 선택하고 (default)
권장 체크는 그대로 둔 상태로 다음 섹션으로 넘어간다.

권한 옵션은 직접 정책 연결을 선택하여
직접 유저에게 권한을 준다.
AdministratorAccess를 동일하게 부여한다.

생성이 끝나면 콘솔 로그인 URL을 복사하고
새탭에서 붙혀넣는다. 이동은 하지말자.
이동하면 루트 계정 로그아웃되고 어드민 계정 비밀번호를 놓친다.
어드민 계정 암호도 복사한 후 붙혀놓은 주소를 이동한다.
이후 어드민 계정 생성할 때 입력해둔 이름을 입력 후
비밀번호 입력하여 들어가면 새 비밀번호 설정이 나온다.
로그인 후 검색창에 iam을 검색해 대시보드로 이동하고
루트계정과 동일하게 MFA 설정을 해준다.
또한, Account ID라고 12개의 숫자를 기억해야
다음번 iam 계정 로그인이 가능하니
기록해두도록하자.